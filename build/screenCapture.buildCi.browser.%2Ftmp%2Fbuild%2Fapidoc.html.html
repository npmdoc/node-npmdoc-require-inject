<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/iarna/require-inject#readme">require-inject (v1.4.0)</a>
</h1>
<h4>A simple mock injector compatible needing no instrumentation in the libraries being tested</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.require-inject">module require-inject</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.require-inject.require-inject">
            function <span class="apidocSignatureSpan"></span>require-inject
            <span class="apidocSignatureSpan">(toLoad, mocks)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.require-inject.installGlobally">
            function <span class="apidocSignatureSpan">require-inject.</span>installGlobally
            <span class="apidocSignatureSpan">(toLoad, mocks)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.require-inject.installGlobally.andClearCache">
            function <span class="apidocSignatureSpan">require-inject.</span>installGlobally.andClearCache
            <span class="apidocSignatureSpan">(toLoad, mocks)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.require-inject.toString">
            function <span class="apidocSignatureSpan">require-inject.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.require-inject.withEmptyCache">
            function <span class="apidocSignatureSpan">require-inject.</span>withEmptyCache
            <span class="apidocSignatureSpan">(toLoad, mocks)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.require-inject.installGlobally">module require-inject.installGlobally</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.require-inject.installGlobally.installGlobally">
            function <span class="apidocSignatureSpan">require-inject.</span>installGlobally
            <span class="apidocSignatureSpan">(toLoad, mocks)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.require-inject.installGlobally.andClearCache">
            function <span class="apidocSignatureSpan">require-inject.installGlobally.</span>andClearCache
            <span class="apidocSignatureSpan">(toLoad, mocks)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.require-inject.installGlobally.andClearCache">module require-inject.installGlobally.andClearCache</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.require-inject.installGlobally.andClearCache.andClearCache">
            function <span class="apidocSignatureSpan">require-inject.installGlobally.</span>andClearCache
            <span class="apidocSignatureSpan">(toLoad, mocks)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.require-inject.toString">module require-inject.toString</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.require-inject.toString.toString">
            function <span class="apidocSignatureSpan">require-inject.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.require-inject.withEmptyCache">module require-inject.withEmptyCache</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.require-inject.withEmptyCache.withEmptyCache">
            function <span class="apidocSignatureSpan">require-inject.</span>withEmptyCache
            <span class="apidocSignatureSpan">(toLoad, mocks)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.require-inject" id="apidoc.module.require-inject">module require-inject</a></h1>


    <h2>
        <a href="#apidoc.element.require-inject.require-inject" id="apidoc.element.require-inject.require-inject">
        function <span class="apidocSignatureSpan"></span>require-inject
        <span class="apidocSignatureSpan">(toLoad, mocks)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">require-inject = function (toLoad, mocks) {
  return requireInject(toLoad, mocks)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.require-inject.installGlobally" id="apidoc.element.require-inject.installGlobally">
        function <span class="apidocSignatureSpan">require-inject.</span>installGlobally
        <span class="apidocSignatureSpan">(toLoad, mocks)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function installGlobally(toLoad, mocks) {
  var callerFilename = getCallerFilename()

  // Inject all of our mocks
  Object.keys(mocks).forEach(function (name) {
    var namePath = resolve(callerFilename, name)
    if (mocks[name] == null) {
      delete require.cache[namePath]
    } else {
      require.cache[namePath] = {exports: mocks[name]}
    }
  })

  var toLoadPath = resolve(callerFilename, toLoad)

  // remove any unmocked version previously loaded
  delete require.cache[toLoadPath]
  // load our new version using our mocks
  return require.cache[callerFilename].require(toLoadPath)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
                case 'testfile1': return cb(null,{})
                case 'testfile2': return cb(new Error('ENOENT'))
                }
            }
        }
    })

    var myglobal = requireInject.<span class="apidocCodeKeywordSpan">installGlobally</span>('myglobal', { â€¦ })

### Usage in your tests

* **`var mymod = requireInject( module, mocks )`**

*module* is the name of the module you want to require.  This is what you'd
pass to `require` to load the module from your script. This means that for
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.require-inject.installGlobally.andClearCache" id="apidoc.element.require-inject.installGlobally.andClearCache">
        function <span class="apidocSignatureSpan">require-inject.</span>installGlobally.andClearCache
        <span class="apidocSignatureSpan">(toLoad, mocks)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">installGlobally.andClearCache = function (toLoad, mocks) {
  var callerFilename = getCallerFilename()
  Object.keys(require.cache).forEach(function (name) {
    if (name !== callerFilename) delete require.cache[name]
  })
  return installGlobally(toLoad, mocks)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* **`var myglobal = requireInject.installGlobally( module, mocks)`**

As with `requireInject`, except that the module and its mocks are left in
the require cache and any future requires will end up using them too.  This
is helpful particularly in the case of things that defer loading (that is,
do async loading).

* **`var myglobal = requireInject.<span class="apidocCodeKeywordSpan">installGlobally.andClearCache</span>(module, mocks)`**

As with `requireInject.installGlobally` but clear the cache first as with
`requireInject.withClearCache`.  Because this globally clears the cache it
means that any requires after this point will get fresh copies of their
required modules, even if you required them previously.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.require-inject.toString" id="apidoc.element.require-inject.toString">
        function <span class="apidocSignatureSpan">require-inject.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function () {
    return text;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.require-inject.withEmptyCache" id="apidoc.element.require-inject.withEmptyCache">
        function <span class="apidocSignatureSpan">require-inject.</span>withEmptyCache
        <span class="apidocSignatureSpan">(toLoad, mocks)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">withEmptyCache = function (toLoad, mocks) {
  return requireInject(toLoad, mocks, true)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.require-inject.installGlobally" id="apidoc.module.require-inject.installGlobally">module require-inject.installGlobally</a></h1>


    <h2>
        <a href="#apidoc.element.require-inject.installGlobally.installGlobally" id="apidoc.element.require-inject.installGlobally.installGlobally">
        function <span class="apidocSignatureSpan">require-inject.</span>installGlobally
        <span class="apidocSignatureSpan">(toLoad, mocks)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function installGlobally(toLoad, mocks) {
  var callerFilename = getCallerFilename()

  // Inject all of our mocks
  Object.keys(mocks).forEach(function (name) {
    var namePath = resolve(callerFilename, name)
    if (mocks[name] == null) {
      delete require.cache[namePath]
    } else {
      require.cache[namePath] = {exports: mocks[name]}
    }
  })

  var toLoadPath = resolve(callerFilename, toLoad)

  // remove any unmocked version previously loaded
  delete require.cache[toLoadPath]
  // load our new version using our mocks
  return require.cache[callerFilename].require(toLoadPath)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
                case 'testfile1': return cb(null,{})
                case 'testfile2': return cb(new Error('ENOENT'))
                }
            }
        }
    })

    var myglobal = requireInject.<span class="apidocCodeKeywordSpan">installGlobally</span>('myglobal', { â€¦ })

### Usage in your tests

* **`var mymod = requireInject( module, mocks )`**

*module* is the name of the module you want to require.  This is what you'd
pass to `require` to load the module from your script. This means that for
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.require-inject.installGlobally.andClearCache" id="apidoc.element.require-inject.installGlobally.andClearCache">
        function <span class="apidocSignatureSpan">require-inject.installGlobally.</span>andClearCache
        <span class="apidocSignatureSpan">(toLoad, mocks)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">andClearCache = function (toLoad, mocks) {
  var callerFilename = getCallerFilename()
  Object.keys(require.cache).forEach(function (name) {
    if (name !== callerFilename) delete require.cache[name]
  })
  return installGlobally(toLoad, mocks)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* **`var myglobal = requireInject.installGlobally( module, mocks)`**

As with `requireInject`, except that the module and its mocks are left in
the require cache and any future requires will end up using them too.  This
is helpful particularly in the case of things that defer loading (that is,
do async loading).

* **`var myglobal = requireInject.installGlobally.<span class="apidocCodeKeywordSpan">andClearCache</span>(module, mocks)`**

As with `requireInject.installGlobally` but clear the cache first as with
`requireInject.withClearCache`.  Because this globally clears the cache it
means that any requires after this point will get fresh copies of their
required modules, even if you required them previously.
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.require-inject.installGlobally.andClearCache" id="apidoc.module.require-inject.installGlobally.andClearCache">module require-inject.installGlobally.andClearCache</a></h1>


    <h2>
        <a href="#apidoc.element.require-inject.installGlobally.andClearCache.andClearCache" id="apidoc.element.require-inject.installGlobally.andClearCache.andClearCache">
        function <span class="apidocSignatureSpan">require-inject.installGlobally.</span>andClearCache
        <span class="apidocSignatureSpan">(toLoad, mocks)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">andClearCache = function (toLoad, mocks) {
  var callerFilename = getCallerFilename()
  Object.keys(require.cache).forEach(function (name) {
    if (name !== callerFilename) delete require.cache[name]
  })
  return installGlobally(toLoad, mocks)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* **`var myglobal = requireInject.installGlobally( module, mocks)`**

As with `requireInject`, except that the module and its mocks are left in
the require cache and any future requires will end up using them too.  This
is helpful particularly in the case of things that defer loading (that is,
do async loading).

* **`var myglobal = requireInject.installGlobally.<span class="apidocCodeKeywordSpan">andClearCache</span>(module, mocks)`**

As with `requireInject.installGlobally` but clear the cache first as with
`requireInject.withClearCache`.  Because this globally clears the cache it
means that any requires after this point will get fresh copies of their
required modules, even if you required them previously.
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.require-inject.toString" id="apidoc.module.require-inject.toString">module require-inject.toString</a></h1>


    <h2>
        <a href="#apidoc.element.require-inject.toString.toString" id="apidoc.element.require-inject.toString.toString">
        function <span class="apidocSignatureSpan">require-inject.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toString() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.require-inject.withEmptyCache" id="apidoc.module.require-inject.withEmptyCache">module require-inject.withEmptyCache</a></h1>


    <h2>
        <a href="#apidoc.element.require-inject.withEmptyCache.withEmptyCache" id="apidoc.element.require-inject.withEmptyCache.withEmptyCache">
        function <span class="apidocSignatureSpan">require-inject.</span>withEmptyCache
        <span class="apidocSignatureSpan">(toLoad, mocks)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">withEmptyCache = function (toLoad, mocks) {
  return requireInject(toLoad, mocks, true)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>